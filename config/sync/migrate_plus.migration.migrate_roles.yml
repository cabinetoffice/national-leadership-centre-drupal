uuid: 8f029a66-2c82-4bb6-8759-a7e7a7dc0f8e
langcode: en
status: true
dependencies:
  enforced:
    module:
      - nlc_import
_core:
  default_config_hash: r9rzw9TKVruRniSOlB9AMBKp-X7IAtEK_7UlB8FSVsw
id: migrate_roles
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - CSV
migration_group: null
label: 'CSV file migration'
source:
  plugin: csv
  path: modules/custom/nlc_import/example/delegates-new.csv
  header_row_count: 1
  ids:
    - 'Email id'
process:
  type:
    plugin: default_value
    default_value: role
  uid:
    plugin: migration_lookup
    no_stub: true
    migration: migrate_delegates
    source: 'Email id'
  field_email: 'Email id'
  field_job_title: 'Job Title'
  field_pa_email: 'PA email'
  field_phone: 'PA Number'
  field_organisation:
    plugin: migration_lookup
    no_stub: true
    migration: migrate_organisations
    source: 'Email id'
  field_general_location: Location
  field_job_title_term:
    -
      plugin: callback
      callable: trim
      source: 'Job Title'
    -
      plugin: text_to_taxonomy
      vocabulary: job_title
      source: 'Job Title'
destination:
  plugin: 'entity:profile'
migration_dependencies: null
